<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PyScriptã®é­…åŠ› 10é¸</title>
    <link rel="stylesheet" href="https://pyscript.net/releases/2024.1.1/core.css">
    <script type="module" src="https://pyscript.net/releases/2024.1.1/core.js"></script>
    <style>
        body { font-family: 'Helvetica Neue', Arial, sans-serif; background-color: #f4f4f9; color: #333; padding: 20px; max-width: 900px; margin: 0 auto; }
        h1 { color: #3776ab; text-align: center; }
        .description { text-align: center; margin-bottom: 30px; }
        .grid { display: grid; grid-template-columns: 1fr; gap: 20px; }
        .card { background: #fff; padding: 20px; border-radius: 8px; box-shadow: 0 4px 6px rgba(0,0,0,0.1); border-left: 5px solid #3776ab; }
        .card h2 { margin-top: 0; color: #2c3e50; font-size: 1.2rem; }
        .output { background: #eef2f5; padding: 10px; border-radius: 4px; font-family: monospace; margin-top: 10px; min-height: 20px; word-break: break-all; white-space: pre-wrap; }
        button { background-color: #3776ab; color: white; border: none; padding: 8px 16px; border-radius: 4px; cursor: pointer; margin-top: 10px; font-size: 0.9rem; }
        button:hover { background-color: #2b5b84; }
        #loading { text-align: center; font-size: 1.1rem; font-weight: bold; color: #e74c3c; margin-bottom: 20px; }
    </style>
</head>
<body>
    <h1>ãƒ–ãƒ©ã‚¦ã‚¶ã§Pythonï¼PyScriptãªã‚‰ã§ã¯ã®10ã®ã“ã¨</h1>
    <p class="description">
        ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã‚µãƒ¼ãƒãƒ¼ä¸è¦ã€‚Pythonã®å¼·åŠ›ãªæ¨™æº–ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚„ãƒ‡ãƒ¼ã‚¿ã‚µã‚¤ã‚¨ãƒ³ã‚¹ãƒ»ã‚¨ã‚³ã‚·ã‚¹ãƒ†ãƒ ã‚’ã€ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã§ç›´æ¥å®Ÿè¡Œã™ã‚‹ãƒ‡ãƒ¢ã§ã™ã€‚
    </p>

    <div id="loading">ğŸ Pythonç’°å¢ƒã‚’ãƒ–ãƒ©ã‚¦ã‚¶ã«æ§‹ç¯‰ä¸­ã§ã™ã€‚åˆå›ã¯å°‘ã—æ™‚é–“ãŒã‹ã‹ã‚Šã¾ã™...</div>

    <div class="grid">
        <div class="card">
            <h2>1. f-stringã¨ãƒªã‚¹ãƒˆå†…åŒ…è¡¨è¨˜</h2>
            <p>Pythonç‰¹æœ‰ã®ç°¡æ½”ã§ç¾ã—ã„è¨˜æ³•ã‚’ä½¿ã£ã¦ãƒ‡ãƒ¼ã‚¿ã‚’ç”Ÿæˆãƒ»æ•´å½¢ã—ã¾ã™ã€‚</p>
            <div id="out1" class="output"></div>
        </div>

        <div class="card">
            <h2>2. ã‚µãƒ¼ãƒãƒ¼ãƒ¬ã‚¹ã§NumPyã®è¡Œåˆ—æ¼”ç®—</h2>
            <p>é€šå¸¸ã¯ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ãŒå¿…è¦ãªãƒ‡ãƒ¼ã‚¿ã‚µã‚¤ã‚¨ãƒ³ã‚¹ã®å‡¦ç†ã‚’ã€ãƒ–ãƒ©ã‚¦ã‚¶ä¸Šã§å®Œçµã•ã›ã¾ã™ã€‚</p>
            <div id="out2" class="output"></div>
        </div>

        <div class="card">
            <h2>3. ã‚µãƒ¼ãƒãƒ¼ãƒ¬ã‚¹ã§Matplotlibã®ã‚°ãƒ©ãƒ•æç”»</h2>
            <p>ãƒ–ãƒ©ã‚¦ã‚¶ä¸Šã§ç›´æ¥Pythonã‚’ä½¿ã£ã¦ã‚°ãƒ©ãƒ•ã‚’ç”Ÿæˆã—ã€HTMLå†…ã«æç”»ã—ã¾ã™ã€‚</p>
            <div id="out3" class="output" style="text-align: center; overflow: hidden; background: white;"></div>
        </div>

        <div class="card">
            <h2>4. itertoolsã‚’ä½¿ã£ãŸé †åˆ—ãƒ»çµ„ã¿åˆã‚ã›è¨ˆç®—</h2>
            <p>JavaScriptã§ã¯ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã‚’æ›¸ãã®ãŒé¢å€’ãªé †åˆ—è¨ˆç®—ã‚‚ã€æ¨™æº–ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã§ä¸€ç™ºã§ã™ã€‚</p>
            <div id="out4" class="output"></div>
        </div>

        <div class="card">
            <h2>5. statisticsãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã«ã‚ˆã‚‹çµ±è¨ˆå‡¦ç†</h2>
            <p>å¹³å‡ã€ä¸­å¤®å€¤ã€æœ€é »å€¤ã€æ¨™æº–åå·®ãªã©ã‚’ã‚µã‚¯ãƒƒã¨è¨ˆç®—ã—ã¾ã™ã€‚</p>
            <div id="out5" class="output"></div>
        </div>

        <div class="card">
            <h2>6. datetimeã«ã‚ˆã‚‹é«˜åº¦ãªæ—¥ä»˜è¨ˆç®—</h2>
            <p>JSã®Dateã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®é¢å€’ã•ã‚’é¿ã‘ã€Pythonã®ç›´æ„Ÿçš„ãªæ—¥ä»˜ãƒ»æ™‚é–“æ“ä½œã‚’å®Ÿç¾ã—ã¾ã™ã€‚</p>
            <div id="out6" class="output"></div>
        </div>

        <div class="card">
            <h2>7. random.sampleã«ã‚ˆã‚‹é‡è¤‡ã®ãªã„ãƒ©ãƒ³ãƒ€ãƒ æŠ½å‡º</h2>
            <p>ãƒªã‚¹ãƒˆã‹ã‚‰æŒ‡å®šã—ãŸæ•°ã®è¦ç´ ã‚’ã€Œé‡è¤‡ãªã—ã€ã§æŠ½å‡ºã—ã¾ã™ã€‚ï¼ˆJSã ã¨å°‘ã—æ‰‹é–“ã§ã™ï¼‰</p>
            <button id="btn7">ãŠã¿ãã˜ã‚’å¼•ã</button>
            <div id="out7" class="output"></div>
        </div>

        <div class="card">
            <h2>8. collections.Counterã«ã‚ˆã‚‹è¦ç´ ã®é›†è¨ˆ</h2>
            <p>ãƒ†ã‚­ã‚¹ãƒˆå†…ã®å˜èªã®å‡ºç¾å›æ•°ãªã©ã‚’ä¸€ç¬ã§é›†è¨ˆãƒ»è¾æ›¸åŒ–ã—ã¾ã™ã€‚</p>
            <div id="out8" class="output"></div>
        </div>

        <div class="card">
            <h2>9. Pythonã®ã‚¯ãƒ©ã‚¹ï¼ˆã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆæŒ‡å‘ï¼‰ã®åˆ©ç”¨</h2>
            <p>Pythonã®ã‚¯ãƒ©ã‚¹ã‚’å®šç¾©ã—ã€ãã®ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ãƒ¡ã‚½ãƒƒãƒ‰ã‹ã‚‰HTMLè¦ç´ ã‚’æ“ä½œã—ã¾ã™ã€‚</p>
            <div id="out9" class="output"></div>
        </div>

        <div class="card">
            <h2>10. Pythonã‚³ãƒ¼ãƒ‰ã«ã‚ˆã‚‹DOMã‚¤ãƒ™ãƒ³ãƒˆã®ãƒã‚¤ãƒ³ãƒ‰</h2>
            <p>@when ãƒ‡ã‚³ãƒ¬ãƒ¼ã‚¿ã‚’ä½¿ã£ã¦ã€Pythoné–¢æ•°ã‚’ç›´æ¥HTMLãƒœã‚¿ãƒ³ã®ã‚¯ãƒªãƒƒã‚¯ã‚¤ãƒ™ãƒ³ãƒˆã«ç´ä»˜ã‘ã¾ã™ã€‚</p>
            <button id="btn10">Pythoné–¢æ•°ã‚’å®Ÿè¡Œ</button>
            <div id="out10" class="output"></div>
        </div>
    </div>

    <py-config>
        packages = ["numpy", "matplotlib"]
    </py-config>

    <script type="py">
        from pyscript import document, display, when
        import itertools
        import statistics
        import datetime
        import random
        import collections
        import numpy as np
        import matplotlib.pyplot as plt

        # ãƒ­ãƒ¼ãƒ‰å®Œäº†æ™‚ã«ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°è¡¨è¨˜ã‚’æ¶ˆã™
        document.getElementById("loading").style.display = "none"

        # DOMã«ãƒ†ã‚­ã‚¹ãƒˆã‚’æ›¸ãè¾¼ã‚€ãƒ˜ãƒ«ãƒ‘ãƒ¼é–¢æ•°
        def write_out(id_str, text):
            document.getElementById(id_str).innerText = text

        # 1. f-stringã¨ãƒªã‚¹ãƒˆå†…åŒ…è¡¨è¨˜
        squares = [x**2 for x in range(1, 11)]
        write_out("out1", f"1ã‹ã‚‰10ã®å¹³æ–¹æ•°:\n{squares}")

        # 2. NumPy
        matrix = np.array([[1, 2], [3, 4]])
        inverse = np.linalg.inv(matrix)
        write_out("out2", f"å…ƒã®è¡Œåˆ—:\n{matrix}\n\né€†è¡Œåˆ—:\n{inverse}")

        # 3. Matplotlib
        fig, ax = plt.subplots(figsize=(5, 3))
        x = np.linspace(0, 2 * np.pi, 100)
        y = np.sin(x)
        ax.plot(x, y, color='#3776ab', linewidth=2)
        ax.set_title("Sine Wave Generated by Python")
        ax.grid(True)
        # targetã«IDã‚’æŒ‡å®šã—ã¦æç”»
        display(fig, target="out3")

        # 4. itertools
        items = ['A', 'B', 'C']
        perms = list(itertools.permutations(items, 2))
        write_out("out4", f"['A', 'B', 'C']ã‹ã‚‰2ã¤é¸ã¶é †åˆ—:\n{perms}")

        # 5. statistics
        data = [10, 20, 20, 30, 40, 50, 50, 50, 60]
        mean_val = statistics.mean(data)
        stdev_val = statistics.stdev(data)
        mode_val = statistics.mode(data)
        write_out("out5", f"ãƒ‡ãƒ¼ã‚¿: {data}\nå¹³å‡: {mean_val:.2f}, æœ€é »å€¤: {mode_val}, æ¨™æº–åå·®: {stdev_val:.2f}")

        # 6. datetime
        now = datetime.datetime.now()
        future = now + datetime.timedelta(days=100)
        write_out("out6", f"ç¾åœ¨: {now.strftime('%Y-%m-%d %H:%M:%S')}\n100æ—¥å¾Œ: {future.strftime('%Y-%m-%d')}")

        # 7. random.sample (ãƒœã‚¿ãƒ³ã‚¤ãƒ™ãƒ³ãƒˆä»˜ã)
        @when("click", "#btn7")
        def draw_omikuji(event):
            fortunes = ["å¤§å‰", "ä¸­å‰", "å°å‰", "å‰", "æœ«å‰", "å‡¶", "å¤§å‡¶"]
            result = random.sample(fortunes, 3) # é‡è¤‡ãªã—ã§3ã¤æŠ½å‡º
            write_out("out7", f"ä»Šæ—¥ã®é‹å‹¢ãƒˆãƒƒãƒ—3:\n{result}")
        
        draw_omikuji(None) # åˆå›å®Ÿè¡Œ

        # 8. collections.Counter
        text = "apple banana apple orange banana apple grape"
        counter = collections.Counter(text.split())
        write_out("out8", f"å˜èªã®é›†è¨ˆçµæœ:\n{dict(counter)}")

        # 9. ã‚¯ãƒ©ã‚¹ã®åˆ©ç”¨
        class Greeter:
            def __init__(self, name):
                self.name = name
            def greet(self):
                return f"Hello, {self.name}! \n(Pythonã®ã‚¯ãƒ©ã‚¹ã‹ã‚‰ç”Ÿæˆã•ã‚ŒãŸæ–‡å­—åˆ—ã§ã™)"
        
        my_greeter = Greeter("PyScript User")
        write_out("out9", my_greeter.greet())

        # 10. ã‚¤ãƒ™ãƒ³ãƒˆã®ãƒã‚¤ãƒ³ãƒ‰
        click_count = 0
        @when("click", "#btn10")
        def on_click(event):
            global click_count
            click_count += 1
            write_out("out10", f"Pythonã®é–¢æ•°ãŒ {click_count} å›å‘¼ã³å‡ºã•ã‚Œã¾ã—ãŸï¼")
    </script>
</body>
</html>
